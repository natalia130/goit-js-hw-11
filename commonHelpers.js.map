{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImgByQuery(userQuery) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const KEY = \"?key=42441384-ae09b834f94a4016fb8b80a97\";\n    const Q = `&q=${userQuery}`;\n    const IMAGE_TYPE = \"&image_type=photo\";\n    const ORIENTATION = \"&orientation=horizontal\";\n    const SAFESEARCH = \"&safesearch=true\";\n    const url = BASE_URL + KEY + Q + IMAGE_TYPE + ORIENTATION + SAFESEARCH;\n\n    const options = {\n        headers: {\n        },\n    };\n    return fetch(url, options).then(res => {\n        if (res.ok) {\n            return res.json()\n        } else {\n            throw new Error(res.status);\n        }\n    });\n}\n","function imgTemplate(img) {\n    return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\"\n            href=\"${img.largeImageURL}\">\n            <img class=\"gallery-image\"\n                src=\"${img.webformatURL}\"\n                alt=\"${img.tags}\" />\n        </a>\n        <div class = \"gallery-item-info\">\n                <ul>Likes<li>${img.likes}</li></ul>\n                <ul>Views<li>${img.views}</li></ul>\n                <ul>Comments<li>${img.comments}</li></ul>\n                <ul>Downloads<li>${img.downloads}</li></ul>\n        </div>\n    </li>`\n}\n\nexport function renderTicker(obj) {\n    const markup = obj.hits.map(imgTemplate).join(\"\");\n    return markup;\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImgByQuery } from './js/pixabay-api';\nimport { renderTicker } from './js/render-functions';\n\nconst formElem = document.querySelector(\".form\");\nconst galleryElem = document.querySelector(\".gallery\");\nconst loaderElem = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery-link\", { captionsData: \"alt\", captionDelay: 250 });\n\nformElem.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    galleryElem.innerHTML = \"\";\n    const userQuery = event.target.elements.query.value.trim();\n    if (userQuery === \"\") {\n        iziToast.warning({\n            title: \"\",\n            message: \"Please enter a search query\",\n            position: 'topCenter',\n        });\n    } else {\n        loaderElem.classList.remove(\"visually-hidden\");\n        getImgByQuery(userQuery).then(data => {\n            loaderElem.classList.add(\"visually-hidden\");\n            if (data.hits.length > 0) {\n                galleryElem.innerHTML = renderTicker(data);\n                lightbox.refresh();\n            } else {\n                iziToast.warning({\n                    title: \"\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topCenter',\n                });\n            }\n        }).catch(error => {\n            iziToast.warning({\n                title: \"\",\n                message: error,\n                position: 'topCenter',\n            });\n        });\n        event.target.reset();\n    }\n}"],"names":["getImgByQuery","userQuery","BASE_URL","KEY","Q","IMAGE_TYPE","ORIENTATION","SAFESEARCH","url","res","imgTemplate","img","renderTicker","obj","formElem","galleryElem","loaderElem","lightbox","SimpleLightbox","onFormSubmit","event","iziToast","data","error"],"mappings":"6vBAAO,SAASA,EAAcC,EAAW,CACrC,MAAMC,EAAW,2BACXC,EAAM,0CACNC,EAAI,MAAMH,CAAS,GACnBI,EAAa,oBACbC,EAAc,0BACdC,EAAa,mBACbC,EAAMN,EAAWC,EAAMC,EAAIC,EAAaC,EAAcC,EAM5D,OAAO,MAAMC,EAJG,CACZ,QAAS,CACR,CACT,CAC6B,EAAE,KAAKC,GAAO,CACnC,GAAIA,EAAI,GACJ,OAAOA,EAAI,KAAM,EAEjB,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEtC,CAAK,CACL,CCpBA,SAASC,EAAYC,EAAK,CACtB,MAAO;AAAA;AAAA,oBAESA,EAAI,aAAa;AAAA;AAAA,uBAEdA,EAAI,YAAY;AAAA,uBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA,+BAGAA,EAAI,KAAK;AAAA,+BACTA,EAAI,KAAK;AAAA,kCACNA,EAAI,QAAQ;AAAA,mCACXA,EAAI,SAAS;AAAA;AAAA,UAGhD,CAEO,SAASC,EAAaC,EAAK,CAE9B,OADeA,EAAI,KAAK,IAAIH,CAAW,EAAE,KAAK,EAAE,CAEpD,CCZA,MAAMI,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAa,SAAS,cAAc,SAAS,EAE7CC,EAAW,IAAIC,EAAe,gBAAiB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAE/FJ,EAAS,iBAAiB,SAAUK,CAAY,EAEhD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBL,EAAY,UAAY,GACxB,MAAMd,EAAYmB,EAAM,OAAO,SAAS,MAAM,MAAM,OAChDnB,IAAc,GACdoB,EAAS,QAAQ,CACb,MAAO,GACP,QAAS,8BACT,SAAU,WACtB,CAAS,GAEDL,EAAW,UAAU,OAAO,iBAAiB,EAC7ChB,EAAcC,CAAS,EAAE,KAAKqB,GAAQ,CAClCN,EAAW,UAAU,IAAI,iBAAiB,EACtCM,EAAK,KAAK,OAAS,GACnBP,EAAY,UAAYH,EAAaU,CAAI,EACzCL,EAAS,QAAO,GAEhBI,EAAS,QAAQ,CACb,MAAO,GACP,QAAS,2EACT,SAAU,WAC9B,CAAiB,CAEjB,CAAS,EAAE,MAAME,GAAS,CACdF,EAAS,QAAQ,CACb,MAAO,GACP,QAASE,EACT,SAAU,WAC1B,CAAa,CACb,CAAS,EACDH,EAAM,OAAO,QAErB"}